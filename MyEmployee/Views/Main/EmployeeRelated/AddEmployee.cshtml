@using MyEmployee.Models.Main_Models;
@using Microsoft.AspNetCore.Identity;
@inject UserManager<ApplicationUser> _userManager;
@model EmployeeVM

@* Builders *@
@{
    ViewData["Title"] = "New Employee";
}
<link rel="stylesheet" href="~/css/Phone/intlTelInput.css" />
<script src="~/js/Phone/intlTelInput.js"></script>
@* CODE *@
<h1>Create Employee</h1>
<div class="container">
    <div class="col-md-6">
        <form method="post" enctype="multipart/form-data">
            <div class="row">
                <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>
                @* Life-Related *@
                <h2>General</h2>
                <hr />
                <div class="form-group">
                    <label asp-for="@Model.FirstName" class="mb-2">First Name</label>
                    <input asp-for="@Model.FirstName" class="form-control" autocomplete="FirstName" aria-required="true" placeholder="first name" />
                    <span asp-validation-for="@Model.FirstName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="@Model.LastName" class="mb-2">Last Name</label>
                    <input asp-for="@Model.LastName" class="form-control" autocomplete="LastName" aria-required="true" placeholder="last name" />
                    <span asp-validation-for="@Model.LastName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="@Model.Gender" class="mb-2">Gender (Optional)</label>
                    <div class="form-check">
                        <input asp-for="@Model.Gender" class="form-check-input" type="radio" aria-required="true" name="exampleRadios" id="exampleRadios1" value="Male" checked>
                        <label asp-for="@Model.Gender" class="form-check-label" for="exampleRadios1">
                            Male
                        </label>
                    </div>
                    <div class="form-check">
                        <input asp-for="@Model.Gender" aria-required="true" class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="Female">
                        <label asp-for="@Model.Gender" class="form-check-label" for="exampleRadios2">
                            Female
                        </label>
                    </div>
                    <span asp-validation-for="@Model.Gender" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="@Model.DateOfBirth" class="mb-2">BirthDay</label>
                    <input type="date" asp-for="@Model.DateOfBirth" class="form-control" autocomplete="BirthDay" aria-required="true" placeholder="BirthDay" />
                    <span asp-validation-for="@Model.DateOfBirth" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="@Model.Email" class="mb-2">Email</label>
                    <input asp-for="@Model.Email" class="form-control" autocomplete="Email" aria-required="true" placeholder="email" />
                    <span asp-validation-for="@Model.Email" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="@Model.Address" class="mb-2">Address (Optional)</label>
                    <input asp-for="@Model.Address" class="form-control" autocomplete="Address" aria-required="true" placeholder="Main Street, Your County, and Anytown"/>
                    <span asp-validation-for="@Model.Address" class="text-danger"></span>
                </div>
                <h2 class="mt-3">Summary</h2>
                <hr />
                <div class="form-group">
                    <label asp-for="@Model.Description" class="mb-2">Description (Optional) </label>
                    <textarea asp-for="@Model.Description" class="form-control" autocomplete="Description" aria-required="true" placeholder="enter information about your employee"></textarea>
                    <span asp-validation-for="@Model.Description" class="text-danger"></span>
                </div>
                <div class="form-group mt-3">
                    <input asp-for="@Model.Phone" type="tel" class="form-control" id="phone" autocomplete="Phone" aria-required="true" placeholder="Phone Number" />
                    <span asp-validation-for="@Model.Phone" class="text-danger"></span>
                </div>
                @* Work-Related *@
                <h2 class="mt-3">Work Related</h2>
                <hr />
                <div class="form-group">
                    <label asp-for="@Model.Salary" class="mb-2">Salary (per month)</label>
                    <input asp-for="@Model.Salary" class="form-control" autocomplete="Salary" aria-required="true" placeholder="6000" />
                    <span asp-validation-for="@Model.Salary" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="@Model.HireDate" class="mb-2">HireDate</label>
                    <input type="date" asp-for="@Model.HireDate" class="form-control" autocomplete="HireDate" aria-required="true" placeholder="hire Date" />
                    <span asp-validation-for="@Model.HireDate" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="@Model.Profession" class="mb-2">Profession</label>
                    <input type="text" asp-for="@Model.Profession" class="form-control" autocomplete="Profession" aria-required="true" placeholder="UI/UX designer Accountant" />
                    <span asp-validation-for="@Model.Profession" class="text-danger"></span>
                </div>
                <div class="form-group mb-3">
                    <label asp-for="@Model.EmploymentStatus" class="mb-2">EmploymentStatus</label>
                    <input type="text" asp-for="@Model.EmploymentStatus" class="form-control" autocomplete="EmploymentStatus" aria-required="true" placeholder="ie Employed/Freelancer/Internship" />
                    <span asp-validation-for="@Model.EmploymentStatus" class="text-danger"></span>
                </div>
                <input type="hidden" asp-for="@Model.ManagerId" value="@_userManager.GetUserId(User)" />
                <div class="form-group">
                    <label asp-for="@Model.ProfilePicture" class="control-label mb-2">Profile Picture</label>
                    <div class="custom-file">
                        <input asp-for="@Model.ProfilePicture" class="form-control" accept="image/*">
                    </div>
                    <span asp-validation-for="@Model.ProfilePicture" class="text-danger"></span>
                </div>
                <div class="mt-3">
                    <button type="submit" class="btn btn-primary col-2 me-3">Create</button>
                    <button type="reset" class="btn btn-secondary col-2">Reset</button>
                </div>
           </div>
        </form>
    </div>
</div>
<script>
    const input = document.querySelector("#phone");
    window.intlTelInput(input, {
        utilsScript: "@Url.Content("~/js/Phone/utils.js")"
    });
</script>
